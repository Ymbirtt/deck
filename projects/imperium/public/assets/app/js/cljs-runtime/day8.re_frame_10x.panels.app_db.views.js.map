{"version":3,"sources":["day8/re_frame_10x/panels/app_db/views.cljs"],"mappings":";AAsBA,AAAA,AAAKA;AACL,AAAA,AAAKC;AAEL,AAAA,AAAKC;AAEL,AAAA,AAAMC;AAAN,AAEE,AAAA,AAAAC,AAAMC,AAAU,AAAA,AAAA,AAACC;AAAjB,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACGC,AACU,AAACC,AAAcH,AACdI,AAEYC,AACOC;AANjC,AAQc,AAAA,AAAA,AAACC;;;AAEjB,AAAA,AAAMC;AAAN,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACGJ,AAEYN;;AAEf,AAAKW,AAAgB,AAAA,AAAkBC;AAEvC,AAAA,AAAAC,AAAA,AAAAC,AAAAC,AACGb,AAAS4B;AADZ,AAAA,AAAAd,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAE2Bc,AAASC,AAAanB;AAFjDK,AAAA,AAAA,AAAA,AAAAC,AAAA,AAAAC,AAAAH;AAAAI,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAC,AAAA,AAAA,AAAAA,AAAA;AAAA,AAAA,AAAAD,AAAAA,AAAAP,AAAAG,AAAAF,AAAAM,AAAAP,AAAAG,AAAAF;;AAAAQ,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAAJ,AAAAJ;AAAA,AAAA,AAAA,AAAA,AAAAS,AAAAF,AAAA,AAAAH;;;AAAA,AAAAM,AAAA,AAAAC,AAAAd;AAAA,AAAA,AAAA,AAAUgB,AACP3B,AAAS4B;AADZ,AAAA,AAAAF,AAAA,AAAAF,AAAAb,AAAA,AACGX,AAAS4B;;AAIZ,AAAA,AAAA,AAAAE,AAAMM;AAAN,AAAA,AAAAL,AAAA;AAAA,AAAA,AAAAC,AAAA,AAAA;AAAA,AAAA,AAAAC,AAAA;;AAAA,AAAA,AAAA,AAAAA,AAAAD;AAAA,AAAA,AAAAD,AAAA,AAAA,AAAAE;;AAAA,AAAA,AAAAA,AAAA;;;;AAAA;;;;AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAH,AAAA,AAAA,AAAAI,AAAA,AAAAJ,AAAA,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAK,AAAAF;;;AAAA,AAAA,AAAA,AAAA,AAAAG,AAAMD;AAAN,AAAA,AAAAE,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAC,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAAE,AAAAC,AAAAH,AAAAA;AAAA,AAAAI,AAAAJ,AAAA,AAC8EgB;AAD9E,AAAAZ,AAAAJ,AAAA,AAC0Ca;AAD1C,AAAAT,AAAAJ,AAAA,AACqEe;AADrE,AAAAX,AAAAJ,AAAA,AAAA,AAC0BU;AAD1B,AAAAN,AAAAJ,AAAA,AACmFV;AADnF,AAAAc,AAAAJ,AAAA,AAAA,AACkBS;AADlB,AAAAL,AAAAJ,AAAA,AACoDc;AADpD,AAAAV,AAAAJ,AAAA,AACoCY;AADpC,AAAAR,AAAAJ,AAAA,AAAA,AACaQ;AADb,AAAAJ,AAAAJ,AAAA,AACgCW;AADhC,AAGE,AAAA,AAAAlD,AAAMC,AAAU,AAAA,AAAA,AAACC;AAAjB,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACGG,AACY,AAACuB,AAAyB3B,AAAS4B,AACnCkB,AACAC,AACAC,AACAC,AACAC,AACAC,AACAI,AACAD,AACAD;;;AAdjB,AAAA,AAAA,AAAMjB;;AAAN;AAAA,AAAA,AAAA,AAAAO,AAAMP;AAAN,AAAA,AAAAQ,AAAA;AAAA,AAAA,AAAAA,AAAA,AAAAC,AAAAF;;;AAAA,AAgBA,AAAA,AAAAa,AAAME;AAAN,AAAA,AAAAD,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAlB,AAAA,AAAAkB,AAAA,AAAA,AAAA,AAAA,AAAAjB,AAAAC,AAAAgB,AAAAA;AAAA,AAAAf,AAAAe,AAAA,AAA0BE;AAA1B,AAAAjB,AAAAe,AAAA,AAA6BG;AAA7B,AAAAlB,AAAAe,AAAA,AAAkCI;AAAlC,AAAAnB,AAAAe,AAAA,AAA2CK;AAA3C,AAAApB,AAAAe,AAAA,AAAiDM;AAAjD,AACE,AAAA,AAAAhE,AAAMC,AAAU,AAAA,AAAA,AAACC;AAAjB,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACGG,AACU,AAAC6D,AAAsBjE,AAEvBuD,AACEnB,AACY8B,AAEQX,AAGA,AAACY,AAAiBnE,AAEP,AAAA,AAAK,AAAA,AAAA,AAAI8D,AACT,AAAAM;AAAA,AAAY,AAAA,AAAA,AAAC7D,AAAiDoD,AAAG,AAACU,AAAIP;;AAAtE;AAd9C,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAeoCQ,AAA0BR,AACDP,AAE9CnD,AACO,AAACmE,AAAyBvE,AAEXuD,AACA9C,AAEV+D,AACiB,AAACC,AAA6BzE,AACpB,AAAK0E;AAAL,AAAQ,AAAA,AAAA,AAACnE,AAA8CoD;AA1B7G,AAAA,AAAA,AAAA,AAAA,AAAAK,AA4B4CH;AA5B5C,AA6B6C,AAAA,AAAA,AAAAG,AAACzD,AAAyCoD;AA7BvF,AAAA;AAAA,AAAA;AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAiCevB,AAIqB,AAAAgC;AAAA,AAAY,AAAA,AAAA,AAAC7D,AAAiDoD,AAAG,AAACU,AAAIN;;AAAtE;AArCpC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAsC2BY,AACOZ;AAvClC,AA2CuC,AAAA,AAAA,AAACxD,AAAiDoD,AAAG,AAACU,AAAIN;AA3CjG,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AA4Ce3B,AACUwC,AAGEC,AACYC;AAjDvC,AAmDuC,AAAA,AAAA,AAACvE,AAAyCoD;;;AAEnF,AAAA,AAAKoB;AAEL,AAAA,AAAAC,AAAME;AAAN,AAAA,AAAAD,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA1C,AAAA,AAAA0C,AAAA,AAAA,AAAA,AAAA,AAAAzC,AAAAC,AAAAwC,AAAAA;AAAAA,AAA4CE;AAA5C,AAAAzC,AAAAuC,AAAA,AAAmBtB;AAAnB,AAAAjB,AAAAuC,AAAA,AAAsBrB;AAAtB,AAAAlB,AAAAuC,AAAA,AAA2BnB;AAA3B,AAAApB,AAAAuC,AAAA,AAAiClB;AAAjC,AACE,AAAA,AAAAhE,AAAMC,AAAc,AAAA,AAAA,AAACC;AACfmF,AAAa,AAAAC,AAAKvB;AAAL,AAAA,AAAAuB;AAAWtB;;AAAXsB;;;AACbC,AAAa,AAAA,AAAA,AAACrF;AAFpB,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAGGsF,AACY7B,AAAWyB,AACXI,AACO,AAAA,AAAA,AAAMzB,AAAM,AAAC0B,AAAkBxF,AAC3B,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAM8D,AACHyB,AACO,AAACE,AAAgBzF,AACJ,AAAA,AAAC0F,AAAS9F,AAAYA,AAAkBA,AAGhD+F,AACA,AAAA,AAAA5F,AAAC6F,AAA8BN,AAAa1B,AAC7BA,AAC9B,AAAA,AAAMwB,AACJ,AAAMW,AAAc,AAAA,AAAA,AAAC9F;AAArB4F,AACiC,AAAA,AAAA,AAAMT,AACJ,AAACe,AAAkB,AAAA,AAAApG,AAACqG,AAAQL,AAAcnC,AACvB,AAAA,AAAA7D,AAACqG,AAAQd,AAAa1B;AAH5E,AAAAkC,AAAAD,AAAA,AAAA,AACOG;AADP,AAAAF,AAAAD,AAAA,AAAA,AACmBI;AADnB,AAAAH,AAAAD,AAAA,AAAA,AAC8BK;AAD9B,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAIGX,AACYA,AACU,AAACc,AAA6BrG,AAE5BsG,AAEqBC,AAGfxB,AAClBQ,AAGYI,AACAK,AACepC,AAC3B2B,AACU,AAACc,AAA6BrG,AAE5BsG,AAGqBC,AAGfxB,AAClBQ,AAGYI,AACAM,AACerC;AApC5C,AAqCA,AAAA,AAAA,AAAA,AAAA,AAAME,AACH0C,AAAe5G;;AAG9C,AAAA,AAAM6G;AAAN,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACGrG,AACY,AAAA,AAACsF,AAASpF,AACVoG,AAGEC,AACAC;;AAMjB,AAAA,AAAMC;AAAN,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEGzG,AACUE,AAEEkG,AAAejD,AACfW,AAKAA,AACSU,AAGCgC,AACV1C,AACSU,AAGCgC,AACVJ,AAAeM;;AAI9B,AAAA,AAAMC;AAAN,AACE,AAAA,AAAAhH,AAAMiH,AAAM,AAAA,AAAA,AAAC/G;AAAb,AAAA,AAAA,AAAA,AAAA,AACGsF,AAGA,AAAA,AAACjE,AACE,AAAA,AAAA,AAAI,AAAC2F,AAAOD,AACTP,AACAI,AACJ,AAAAK,AAAA,AAAAC;AAAA,AAAA,AAAAC,AAAA,AAAA;AAAA,AAAA,AAAAD,AAAAA;;AAAA,AAAA,AAAAE,AAAA,AAAAxE,AAAAsE;AAAA,AAAA,AAAAE;AAAA,AAAA,AAAAF,AAAAE;AAAA,AAAA,AAAA,AAAAC,AAAAH;AAAA,AAAAI,AAiuE4C,AAAA2B,AAAA/B;AAjuE5CK,AAAA,AAAAC,AAAAF;AAAAG,AAAA,AAAAC,AAAAH;AAAA,AAAA,AAAA,AAAA,AAAAI,AAAA;;AAAA,AAAA,AAAA,AAAAA,AAAAJ;AAAA,AAAA,AAAAK,AAAAN,AAAAK,AAAMS;AAAN,AAAA,AAAA,AAAAP,AAAAJ,AAAA,AAAA,AAAA,AAAA,AAAA,AAEIxC,AAAImD,AACJ7B,AAAeE;;AAHnB,AAAA,AAAAkB,AAAA;;;;AAAA;;;;;AAAA,AAAAG,AAAA,AAAAC,AAAAN,AAAA,AAAAO,AAAA,AAAAC,AAAAf;;AAAA,AAAAY,AAAA,AAAAC,AAAAN,AAAA;;;AAAA,AAAA,AAAAzG,AAAAkG,AAAMkB;AAAN,AAAA,AAAAF,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAF,AAAA,AAAAG,AAAAjB,AAEIjC,AAAImD,AACJ7B,AAAeE;;;AAHnB;;;;AAAA,AAAA;;AAAA,AAAA,AAAAQ,AAAQF;;;AAMf,AAAA,AAAAsB,AAAA,AAAAC,AAAAC,AACGxI;AADH,AAAA,AAAAyI,AAAA,AAAA,AAAA,AAAA,AAAA,AAEiBM;AAFjBhI,AAAA,AAAA,AAAA,AAAAC,AAAA,AAAAC,AAAAwH;AAAAC,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAvH,AAAA,AAAA,AAAAA,AAAA;AAAA,AAAA,AAAAuH,AAAAA,AAAAJ,AAAAxH,AAAAyH,AAAAG,AAAAJ,AAAAxH,AAAAyH;;AAAAI,AAAA,AAAAtH,AAAA,AAAA,AAAA,AAAAoH,AAAAD;AAAA,AAAA,AAAA,AAAA,AAAAlH,AAAAqH,AAAA,AAAAF;;;AAAA,AAAAG,AAAA,AAAApH,AAAA6G;AAAA,AAAA,AAAA,AAAUQ,AACP9I;AADH,AAAA,AAAA0B,AAAA,AAAAmH,AAAAP,AAAA,AACGtI;;AAIH,AAAA,AAAMgJ,AAAOC;AAAb,AACE,AAAA,AAAAlJ,AAAMC,AAAU,AAAA,AAAA,AAACC;AAAjB,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACGsF,AACU,AAACuD,AAAY9I,AAGrBQ,AACAuG,AACAP,AAAelG","names":["day8.re-frame-10x.panels.app-db.views/pod-gap","day8.re-frame-10x.panels.app-db.views/pod-padding","day8.re-frame-10x.panels.app-db.views/border-radius","day8.re-frame-10x.panels.app-db.views/path-inspector-button","cljs.core/deref","ambiance","day8.re_frame_10x.inlined_deps.re_frame.v1v1v2.re_frame.core.subscribe","day8.re-frame-10x.components.re-com/button","day8.re-frame-10x.styles/button","day8.re-frame-10x.components.re-com/h-box","day8.re-frame-10x.material/add","day8.re-frame-10x.styles/gs-19s","day8.re-frame-10x.inlined-deps.re-frame.v1v1v2.re-frame.core/dispatch","day8.re-frame-10x.panels.app-db.views/panel-header","day8.re-frame-10x.panels.app-db.views/pod-border-edge","day8.re-frame-10x.styles/nord4","day8.re-frame-10x.panels.app-db.views/pod-header-section-style-factory$","style-name48073","params48074","base-style48078","key__47223__auto__","cljs.core/meta","cljs.core/first","name48077","fexpr__48081","day8.re-frame-10x.inlined-deps.spade.v1v1v0.spade.util/build-style-name","style48076","cljs.core.into","day8.re-frame-10x.inlined-deps.spade.v1v1v0.spade.runtime/compile-css","factory-name48075","day8.re-frame-10x.inlined-deps.spade.v1v1v0.spade.util/factory->name","day8.re-frame-10x.inlined-deps.spade.v1v1v0.spade.runtime/ensure-style!","day8.re-frame-10x.panels.app-db.views/pod-header-section-style","last?","day8.re-frame-10x.inlined-deps.garden.v1v3v10.garden.units/px","var_args","args__4742__auto__","len__4736__auto__","i__4737__auto__","argseq__4743__auto__","cljs.core/IndexedSeq","day8.re-frame-10x.panels.app-db.views/pod-header-section","p__48098","map__48099","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply","cljs.core/hash-map","cljs.core.get","seq48083","self__4724__auto__","cljs.core/seq","size","justify","align","gap","width","min-width","background-color","children","attr","day8.re-frame-10x.styles/gs-31s","p__48103","map__48104","day8.re-frame-10x.panels.app-db.views/pod-header","id","path","path-str","open?","diff?","p1__48102#","day8.re-frame-10x.styles/section-header","day8.re-frame-10x.components.re-com/box","day8.re-frame-10x.styles/no-select","event","cljs.core/not","day8.re-frame-10x.components.buttons/expansion","day8.re-frame-10x.styles/path-header-style","day8.re-frame-10x.components.re-com/input-text","day8.re-frame-10x.styles/path-text-input-style","e","day8.re-frame-10x.components.re-com/checkbox","day8.re-frame-10x.styles/gs-50s","day8.re-frame-10x.components.buttons/icon","day8.re-frame-10x.material/close","day8.re-frame-10x.panels.app-db.views/diff-url","p__48125","map__48126","day8.re-frame-10x.panels.app-db.views/pod","pod-info","render-diff?","and__4115__auto__","app-db-after","day8.re-frame-10x.components.re-com/v-box","day8.re-frame-10x.styles/pod-border","day8.re-frame-10x.styles/pod-data","day8.re_frame_10x.components.re_com.css_join","day8.re-frame-10x.components.cljs-devtools/simple-render","day8.re-frame-10x.tools.coll/get-in-with-lists","vec__48129","cljs.core.nth","app-db-before","diff-before","diff-after","_","clojure.data/diff","cljs.core.get_in","day8.re-frame-10x.styles/app-db-inspector-link","day8.re-frame-10x.components.re-com/hyperlink-href","day8.re-frame-10x.styles/gs-7s","day8.re-frame-10x.components.re-com/gap-f","day8.re-frame-10x.panels.app-db.views/no-pods","day8.re-frame-10x.styles/gs-12s","day8.re-frame-10x.svgs/round-arrow","day8.re-frame-10x.components.re-com/label","day8.re-frame-10x.panels.app-db.views/pod-header-column-titles","day8.re-frame-10x.styles/gs-2s","day8.re-frame-10x.panels.app-db.views/pod-section","pods","cljs.core/empty?","iter__4529__auto__","s__48136","cljs.core/LazySeq","temp__5735__auto__","cljs.core/chunked-seq?","c__4527__auto__","size__4528__auto__","cljs.core/count","b__48138","cljs.core/chunk-buffer","i__48137","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__48135","cljs.core/chunk-rest","cljs.core/cons","cljs.core/rest","p","day8.re-frame-10x.panels.app-db.views/panel-style-factory$","style-name48141","params48142","base-style48146","name48145","fexpr__48148","style48144","factory-name48143","day8.re-frame-10x.panels.app-db.views/panel-style","day8.re-frame-10x.styles/gs-5","day8.re-frame-10x.panels.app-db.views/panel","app-db","cljs.core/chunk-first"],"sourcesContent":["(ns day8.re-frame-10x.panels.app-db.views\n  (:require\n    [clojure.data]\n    [devtools.prefs]\n    [devtools.formatters.core]\n    [day8.re-frame-10x.inlined-deps.garden.v1v3v10.garden.units :refer [em px percent]]\n    [day8.re-frame-10x.inlined-deps.spade.v1v1v0.spade.core :refer [defclass]]\n    [day8.re-frame-10x.inlined-deps.reagent.v1v0v0.reagent.core :as r]\n    [day8.re-frame-10x.inlined-deps.re-frame.v1v1v2.re-frame.core :as rf]\n    [day8.re-frame-10x.components.buttons :as buttons]\n    [day8.re-frame-10x.components.cljs-devtools :as cljs-devtools]\n    [day8.re-frame-10x.components.re-com :as rc :refer [close-button css-join]]\n    [day8.re-frame-10x.svgs :as svgs]\n    [day8.re-frame-10x.material :as material]\n    [day8.re-frame-10x.styles :as styles]\n    [day8.re-frame-10x.panels.settings.subs :as settings.subs]\n    [day8.re-frame-10x.panels.app-db.events :as app-db.events]\n    [day8.re-frame-10x.panels.app-db.subs :as app-db.subs]\n    [day8.re-frame-10x.tools.coll :as tools.coll])\n  (:require-macros\n    [day8.re-frame-10x.components.re-com :refer [handler-fn]]))\n\n(def pod-gap \"-1px\") ;; Overlap pods by 1px to avoid adjoining borders causing 2px borders\n(def pod-padding \"0px\")\n\n(def border-radius \"3px\")\n\n(defn path-inspector-button\n  []\n  (let [ambiance @(rf/subscribe [::settings.subs/ambiance])]\n    [rc/button\n     :class    (styles/button ambiance)\n     :label    [rc/h-box\n                :align    :center\n                :children [[material/add\n                            {:size styles/gs-19s}]\n                           \"path inspector\"]]\n     :on-click #(rf/dispatch [::app-db.events/create-path])]))\n\n(defn panel-header []\n  [rc/h-box\n   :align    :center\n   :children [[path-inspector-button]]])\n\n(def pod-border-edge (str \"1px solid \" styles/nord4))\n\n(defclass pod-header-section-style\n  [ambiance last?]\n  {:border-right (when-not last? [[(px 1) :solid styles/nord4]])\n   #_#_:padding-left (px 3)})\n\n(defn pod-header-section\n  [& {:keys [size justify align gap width min-width background-color children attr last?]\n      :or   {size \"none\" justify :start align :center}}]\n  (let [ambiance @(rf/subscribe [::settings.subs/ambiance])]\n    [rc/h-box\n     :class      (pod-header-section-style ambiance last?)\n     :size       size\n     :justify    justify\n     :align      align\n     :gap        gap\n     :width      width\n     :min-width  min-width\n     :height     styles/gs-31s\n     :attr       attr\n     :children   children]))\n\n(defn pod-header [{:keys [id path path-str open? diff?]}]\n  (let [ambiance @(rf/subscribe [::settings.subs/ambiance])]\n    [rc/h-box\n     :class    (styles/section-header ambiance)\n     :align    :center\n     :height   styles/gs-31s\n     :children [[pod-header-section\n                 :children [[rc/box\n                             :width  \"30px\"\n                             :height styles/gs-31s\n                             :justify :center\n                             :align :center\n                             :class  (styles/no-select ambiance)\n                             :style  {:cursor \"pointer\"}\n                             :attr   {:title    (str (if open? \"Close\" \"Open\") \" the pod bay doors, HAL\")\n                                      :on-click (handler-fn (rf/dispatch [::app-db.events/set-path-visibility id (not open?)]))}\n                             :child  [buttons/expansion {:open? open?\n                                                         :size styles/gs-31s}]]]]\n\n                [rc/h-box\n                 :class (styles/path-header-style ambiance)\n                 :size  \"auto\"\n                 :style {:height       styles/gs-31s\n                         :border-right pod-border-edge}\n                 :align :center\n                 :children [[rc/input-text\n                             :class           (styles/path-text-input-style ambiance)\n                             :attr            {:on-blur (fn [e] (rf/dispatch [::app-db.events/update-path-blur id]))}\n                             :width           \"100%\"\n                             :model           path-str\n                             :on-change       #(rf/dispatch [::app-db.events/update-path id %]) ;;(fn [input-string] (rf/dispatch [:app-db/search-string input-string]))\n                             :on-submit       #()                   ;; #(rf/dispatch [::app-db.events/add-path %])\n                             :change-on-blur? false\n                             :placeholder     \"enter an app-db path like [:todos 1]\"]]]\n                [pod-header-section\n                 :width    \"49px\"\n                 :justify  :center\n                 :align    :center\n                 :attr     {:on-click (handler-fn (rf/dispatch [::app-db.events/set-diff-visibility id (not diff?)]))}\n                 :children [[rc/checkbox\n                             :model diff?\n                             :label \"\"\n                             #_#_:style {:margin-left \"6px\"\n                                         :margin-top  \"1px\"}\n                             :on-change #(rf/dispatch [::app-db.events/set-diff-visibility id (not diff?)])]]]\n                [pod-header-section\n                 :width    styles/gs-50s\n                 :justify  :center\n                 :last?    true\n                 :children [[buttons/icon\n                             {:icon     [material/close]\n                              :title    \"Remove this inspector\"\n                              :on-click #(rf/dispatch [::app-db.events/remove-path id])}]]]]]))\n\n(def diff-url \"https://github.com/day8/re-frame-10x/blob/master/docs/HyperlinkedInformation/Diffs.md\")\n\n(defn pod [{:keys [id path open? diff?] :as pod-info}]\n  (let [ambiance     @(rf/subscribe [::settings.subs/ambiance])\n        render-diff? (and open? diff?)\n        app-db-after (rf/subscribe [::app-db.subs/current-epoch-app-db-after])]\n    [rc/v-box\n     :children [[pod-header pod-info]\n                [rc/v-box\n                 :class (when open? (styles/pod-border ambiance))\n                 :children [(when open?\n                              [rc/v-box\n                               :class (styles/pod-data ambiance)\n                               :style {:margin     (css-join pod-padding pod-padding \"0px\" pod-padding)\n                                       :overflow-x \"auto\"\n                                       :overflow-y \"hidden\"}\n                               :children [[cljs-devtools/simple-render\n                                           (tools.coll/get-in-with-lists @app-db-after path)\n                                           [\"app-db-path\" path]]]])\n                            (when render-diff?\n                              (let [app-db-before (rf/subscribe [::app-db.subs/current-epoch-app-db-before])\n                                    [diff-before diff-after _] (when render-diff?\n                                                                 (clojure.data/diff (get-in @app-db-before path)\n                                                                                    (get-in @app-db-after path)))]\n                                [rc/v-box\n                                 :children [[rc/v-box\n                                             :class    (styles/app-db-inspector-link ambiance)\n                                             :justify  :end\n                                             :children [[rc/hyperlink-href\n                                                         :label \"ONLY BEFORE\"\n                                                         :style {:margin-left styles/gs-7s}\n                                                         :attr {:rel \"noopener noreferrer\"}\n                                                         :target \"_blank\"\n                                                         :href diff-url]]]\n                                            [rc/v-box\n                                             :style {:overflow-x \"auto\"\n                                                     :overflow-y \"hidden\"}\n                                             :children [[cljs-devtools/simple-render\n                                                         diff-before\n                                                         [\"app-db-diff\" path]]]]\n                                            [rc/v-box\n                                             :class    (styles/app-db-inspector-link ambiance)\n                                             :justify  :end\n                                             :children [[rc/hyperlink-href\n                                                         ;:class  \"app-db-path--label\"\n                                                         :label \"ONLY AFTER\"\n                                                         :style {:margin-left styles/gs-7s}\n                                                         :attr {:rel \"noopener noreferrer\"}\n                                                         :target \"_blank\"\n                                                         :href diff-url]]]\n                                            [rc/v-box\n                                             :style {:overflow-x \"auto\"\n                                                     :overflow-y \"hidden\"}\n                                             :children [[cljs-devtools/simple-render\n                                                         diff-after\n                                                         [\"app-db-diff\" path]]]]]]))\n                            (when open?\n                              [rc/gap-f :size pod-padding])]]]]))\n\n\n(defn no-pods []\n  [rc/h-box\n   :margin     (css-join styles/gs-19s \" 0px 0px 50px\")\n   :gap        styles/gs-12s\n   :align      :start\n   :align-self :start\n   :children   [[svgs/round-arrow]\n                [rc/label\n                 :style {:width      \"160px\"\n                         :margin-top \"22px\"}\n                 :label \"see the values in app-db by adding one or more inspectors\"]]])\n\n\n(defn pod-header-column-titles\n  []\n  [rc/h-box\n   :height   styles/gs-19s\n   :align    :center\n   :children [[rc/gap-f :size styles/gs-31s]\n              [rc/box\n               :size  \"1\"\n               :height \"31px\"\n               #_#_:style   {:background-color \"blue\"}\n               :child \"\"]\n              [rc/box\n               :width   styles/gs-50s                                ;;  50px + 1 border\n               :justify :center\n               #_#_:style   {:background-color \"pink\"}\n               :child   [rc/label :style {:font-size \"9px\"} :label \"DIFFS\"]]\n              [rc/box\n               :width   styles/gs-50s                                ;;  50px + 1 border\n               :justify :center\n               #_#_:style   {:background-color \"red\"}\n               :child   [rc/label :style {:font-size \"9px\"} :label \"DELETE\"]]\n              [rc/gap-f :size styles/gs-2s]\n              #_[rc/gap-f :size \"6px\"]]])                     ;; Add extra space to look better when there is/aren't scrollbars\n\n\n(defn pod-section []\n  (let [pods @(rf/subscribe [::app-db.subs/paths])]\n    [rc/v-box\n     :size     \"1\"\n     :children\n     (into\n       [(if (empty? pods)\n          [no-pods]\n          [pod-header-column-titles])]\n       (for [p pods]\n         [:<>\n          [pod p]\n          [rc/gap-f :size styles/gs-12s]]))]))\n\n\n(defclass panel-style\n  [ambiance]\n  {:margin-right styles/gs-5\n   :overflow :auto})\n\n(defn panel [app-db]\n  (let [ambiance @(rf/subscribe [::settings.subs/ambiance])]\n    [rc/v-box\n     :class    (panel-style ambiance)\n     :size     \"1\"\n     :children\n     [[panel-header]\n      [pod-section]\n      [rc/gap-f :size styles/gs-19s]]]))\n"]}